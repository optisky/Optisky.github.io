<!DOCTYPE html>
	<html>
		<head>
			<title>LOVE!</title>
		</head>
		<body style="background:rgb(0,0,0)">
		</body>
		<script type="text/javascript">
			(function() {
				var imgTag = document.createElement('img');
				imgTag.id = 'demo';
				imgTag.src = 'https://optisky.github.io/images/heart.gif';
				document.body.appendChild(imgTag);
				imgTag.onload = function () { // avoid the w = 0
					var img = document.getElementById('demo');
					//console.log(img == null);
					//console.log(typeof(img));
					var w = img.width || img.naturalWidth;
					var h = img.height || img.naturalHeight;
					//console.log(img.naturalWidth);
					//console.log(h);
					var canvas = document.createElement('canvas');
					//document.body.appendChild(canvas);
					var context = canvas.getContext('2d');
					context.drawImage(img, 0, 0);
					var imgd = context.getImageData(0, 0, w, h);
					var pixData = imgd.data;
					for (var i = 0, n = pixData.length; i < n; i += 4) {
						pixData[i] = 0;
						pixData[i+1] = 0;
						pixData[i+2] = 255 - pixData[i+2];
					}
					context.putImageData(imgd, 600, 600);
				};
			})(); 
		</script>
	</html>